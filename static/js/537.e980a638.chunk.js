"use strict";(self.webpackChunkThoughtsBook=self.webpackChunkThoughtsBook||[]).push([[537],{5176:(e,t,o)=>{o.d(t,{A:()=>i});o(5043);var s=o(2773),r=o(579);const i=e=>{let{title:t="submit",onClick:o,type:i="button",disabled:n=!1,className:d,BtnCenter:a=!1,width:l,...c}=e;return(0,r.jsx)(s.QE,{BtnCenter:a,children:(0,r.jsx)(s.ib,{width:l,onClick:o,type:i,disabled:n,className:d,...c,children:t})})}},531:(e,t,o)=>{o.d(t,{A:()=>i});o(5043);var s=o(2773),r=o(579);const i=e=>{let{field:t,form:o,isEditable:i=!1,type:n="text",label:d,placeholder:a,width:l,noMargin:c,...u}=e;const m=o&&o.errors&&o.errors[t.name],x=o&&o.touched&&o.touched[t.name];return(0,r.jsxs)(s.Sz,{noMargin:!0,width:l,children:[d&&(0,r.jsx)("label",{children:d}),(0,r.jsx)("input",{disabled:i,...t,type:n,placeholder:a,...u}),m&&x&&(0,r.jsx)("div",{className:"error",children:m})]})}},2773:(e,t,o)=>{o.d(t,{QE:()=>d,Sz:()=>i,ib:()=>n});var s=o(2968),r=o(8998);const i=(0,r.Ay)("div")((e=>{let{width:t,theme:o,noMargin:s}=e;return{display:"flex",flexDirection:"column",gap:"8px",width:t||"100%",position:"relative",marginBottom:"12px","& label":{fontSize:"14px",fontWeight:"400",color:"#fff"},"& input":{padding:"8px 35px 8px 8px",fontSize:"1rem",backgroundColor:"#eeeeee",border:"1px solid transparent",outline:"none",marginBottom:"6px","&::placeholder":{color:"#6C757D80",fontSize:"12px"}},"& .error":{fontSize:"11px",color:"#fff",fontWeight:"400",position:"absolute",bottom:"-12px",zIndex:"1"}}})),n=(0,r.Ay)(s.A)((e=>{let{theme:t,width:o}=e;return{height:"28px",minWidth:"120px",padding:"8px",borderRadius:"4px",backgroundColor:"#fbfbfb66",color:"#fff",width:o||"100%",fontWeight:"500",backdropFilter:"blur(10px)","&:hover":{backgroundColor:"#fbfbfb66"}}})),d=(0,r.Ay)("div")((e=>{let{theme:t,BtnCenter:o}=e;return{display:o?"flex":"block",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"16px"}}));(0,r.Ay)("div")((e=>{let{theme:t}=e;return{fontSize:"11px",color:"#DDDDDDDD",fontWeight:"500",textAlign:"center",marginTop:"8px"}})),(0,r.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%","& img":{width:"35px"}}}))},8537:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var s=o(5043),r=o(8998),i=o(8996),n=o(5472),d=o(1470),a=o(531);const l=o.p+"static/media/edit.899b81054b4d753fb12b65be77e253ce.svg";const c=o.p+"static/media/delete.15281aa53e1e4389c4ba1ad8b4db551e.svg";const u=o.p+"static/media/done.f3123ca3a6dc752892c55a2a2c4203de.svg";var m=o(1036),x=o(579);const h=()=>{const[e,t]=(0,s.useState)([]),[o,r]=(0,s.useState)(null),[h,g]=(0,s.useState)(!0),p=(0,i.xI)();(0,s.useEffect)((()=>{const e=p.currentUser?p.currentUser.uid:null;if(!e)return void m.oR.error("You must be logged in to view todos.");const o=(0,n.rJ)(d.db,`todos/${e}/items`),s=(0,n.P)(o),r=(0,n.aQ)(s,(e=>{const o=e.docs.map((e=>({id:e.id,...e.data()})));t(o),g(!1)}),(e=>{m.oR.error("Failed to fetch todos. Please try again."),g(!1)}));return()=>r()}),[p.currentUser]);const b=e=>{r(e)},f=async(e,t)=>{if(m.oR.dismiss(),t.trim())try{const o=p.currentUser?p.currentUser.uid:null;if(!o)return void m.oR.error("You must be logged in to update todos.");const s=(0,n.H9)(d.db,`todos/${o}/items/${e}`);await(0,n.mZ)(s,{text:t}),r(null),m.oR.success("Todo updated successfully!")}catch(o){console.error("Error updating todo: ",o),m.oR.error("Failed to update todo. Please try again.")}else m.oR.error("Todo text cannot be empty.")};return h?(0,x.jsx)("div",{children:"Loading..."}):(0,x.jsx)("div",{className:"list___main",children:e.map((e=>(0,x.jsxs)("li",{className:"input__box "+(o===e.id?"adjustments__input__edit":""),children:[o===e.id?(0,x.jsx)(a.A,{value:e.text,onChange:o=>t((t=>t.map((t=>t.id===e.id?{...t,text:o.target.value}:t)))),onBlur:t=>f(e.id,t.target.value),onKeyPress:t=>((e,t,o)=>{"Enter"===e.key&&f(t,o)})(t,e.id,e.text),placeholder:"Edit todo",autoFocus:!0}):(0,x.jsx)("div",{className:"todo__text__box",onDoubleClick:()=>b(e.id),children:e.text}),(0,x.jsxs)("div",{className:"todo__button__box",children:[o===e.id?(0,x.jsx)("img",{src:u,alt:"Save",type:"button",className:"save__btn",onClick:()=>f(e.id,e.text)}):(0,x.jsx)("img",{src:l,alt:"Edit",className:"edit__btn",onClick:()=>b(e.id)}),(0,x.jsx)("img",{src:c,alt:"Delete",type:"button",className:"delete__btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this todo?"))try{const t=p.currentUser?p.currentUser.uid:null;if(!t)return void m.oR.error("You must be logged in to delete todos.");const o=(0,n.H9)(d.db,`todos/${t}/items/${e}`);await(0,n.kd)(o),m.oR.success("Todo deleted successfully!")}catch(t){console.error("Error deleting todo: ",t),m.oR.error("Failed to delete todo. Please try again.")}})(e.id)})]})]},e.id)))})},g=()=>{const[e,t]=(0,s.useState)(""),[o,r]=(0,s.useState)(""),l=(0,i.xI)(),c=async()=>{const o=l.currentUser?l.currentUser.uid:null;if(o)if(e.trim())try{await(0,n.gS)((0,n.rJ)(d.db,`todos/${o}/items`),{text:e,completed:!1}),t(""),r(""),m.oR.success("Todo added successfully!")}catch(s){console.error("Error adding todo: ",s),m.oR.error("Failed to add todo. Please try again.")}else r("Todo text cannot be empty.");else m.oR.error("You must be logged in to add todos.")};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{className:"add-todo-title",children:"Lemme Listen to your Thoughts"}),(0,x.jsxs)("div",{className:"add-todo",children:[(0,x.jsx)(a.A,{noMargin:!0,width:"80%",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"===e.key&&c()},placeholder:"Enter a new Thought",error:o}),(0,x.jsx)("img",{src:u,onClick:c,className:"add-btn",alt:"Add Todo"})]})]})},p=()=>(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"main__container",children:[(0,x.jsxs)("div",{className:"squares",children:[(0,x.jsx)("div",{className:"square",style:{"--i":0}}),(0,x.jsx)("div",{className:"square",style:{"--i":1}}),(0,x.jsx)("div",{className:"square",style:{"--i":2}}),(0,x.jsx)("div",{className:"square",style:{"--i":3}}),(0,x.jsx)("div",{className:"square",style:{"--i":4}}),(0,x.jsx)("div",{className:"square",style:{"--i":5}})]}),(0,x.jsxs)("div",{className:"container__content",children:[(0,x.jsx)(g,{}),(0,x.jsx)("h2",{className:"subtitle__main",children:"Memories"}),(0,x.jsx)(h,{})]})]})});var b=o(5176);const f=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw"}})),y=()=>{const e=(0,i.xI)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(f,{children:[(0,x.jsx)(p,{}),(0,x.jsx)(b.A,{BtnCenter:!0,width:"10%",onClick:()=>{(0,i.CI)(e).then((()=>{console.log("User signed out"),m.oR.success("Logged out successfully!")})).catch((e=>{console.error("Error signing out: ",e),m.oR.error("Failed to log out. Please try again.")}))},title:"logout"})]})})}}}]);
//# sourceMappingURL=537.e980a638.chunk.js.map